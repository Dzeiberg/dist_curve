---

title: Curve Constructor

keywords: fastai
sidebar: home_sidebar

summary: "Functions to construct distance curves used for class prior estimation"
description: "Functions to construct distance curves used for class prior estimation"
nb_path: "02_Curve_Constructor.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02_Curve_Constructor.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="makeCurvesFromDistanceMatrix" class="doc_header"><code>makeCurvesFromDistanceMatrix</code><a href="https://github.com/Dzeiberg/dist_curve/tree/master/dist_curve/curve_constructor.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>makeCurvesFromDistanceMatrix</code>(<strong><code>dist_matrix</code></strong>, <strong><code>curves</code></strong>, <strong><code>mixtureInstanceRemaining</code></strong>)</p>
</blockquote>
<p>Construct multiple distance curves, using the precomputed distances</p>
<p>Arguments:</p>

<pre><code>- dist_matrix : float[num_component_instances, num_mixture_instances]
    dist_matrix[i,j] contains the distance between component instance i and mixture instance j

- curves : float[num_curves_to_average, num_mixture_instances]
    matrix to fill with distance curves (passed initialized matrix because jit
    in no python mode can't create matrices)

- mixtureInstanceRemaining : boolean[num_curves_to_average, num_mixture_instances]
    boolean matrix indicating whether the given mixture instance should be
    considered when constructing the curve at that iteration.
    At each iteration, the mixture point that is closest to the sampled component
    instance is removed from consideration in subsequent iterations.
    Pass matrix initialized to all True in order for all mixture instances to be
    considered in curve construction.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="makeCurve" class="doc_header"><code>makeCurve</code><a href="https://github.com/Dzeiberg/dist_curve/tree/master/dist_curve/curve_constructor.py#L56" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>makeCurve</code>()</p>
</blockquote>
<p>Construct the distance curve used to estimate the class prior
of the distribution from which the mixture instances were sampled</p>
<p>Arguments:</p>

<pre><code>- compInstances : float[num_component_instances, dim]
    instances sampled from the component distribution

- mixInstances : float[num_mixture_instances, dim] in range[0,1]
    instances sampled from the mixture distribution

- num_curves_to_average : int : default 25
    repeat the curve construction process this number of times, averaging over all curves

- quantiles : float[n_quantiles] : default np.arange(0,1,.01)
    after averaging over all curves, use these quantiles of the averaged curve
    as the final distance curve</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plotCurve" class="doc_header"><code>plotCurve</code><a href="__main__.py#L3" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plotCurve</code>(<strong><code>curve</code></strong>)</p>
</blockquote>
<p>Plot the given distance curve</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

